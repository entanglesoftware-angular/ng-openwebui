<h2 mat-dialog-title>Settings</h2>
<mat-dialog-content class="settings-dialog-content">
  <div class="container">
    <aside class="settings-sidebar">
      <div class="sidebar-item" (click)="selectedSection = 'connections'">
        <mat-icon>cloud</mat-icon>
        <span>Connections</span>
      </div>
    </aside>

    <div class="content-area">
      <ng-container *ngIf="selectedSection === 'default'"> </ng-container>
      <ng-container *ngIf="selectedSection === 'connections'">
        <div class="connections">
          <div class="content-header">
            <h3>Manage Direct Connections</h3>
            <mat-icon class="add-icon" (click)="onClick()">add</mat-icon>
          </div>
          <p>Total connections: {{ savedConnections.length }}</p>

          <div
            *ngFor="let conn of savedConnections"
            style="
              display: flex;
              align-items: center;
              justify-content: space-between;
              padding: 8px 0;
            "
          >
            <div style="display: flex; align-items: center; gap: 10px; flex: 1">
              <span>{{ conn.url }}</span>
              <span>{{ conn.visible ? conn.key : '•••' }}</span>
            </div>

            <div style="text-align: center">
              <button
                style="border: none; background-color: black"
                mat-icon-button
                matSuffix
                (click)="conn.visible = !conn.visible"
                type="button"
              >
                <mat-icon style="color: white"
                  >{{ conn.visible ? 'visibility_off' : 'visibility'
                  }}</mat-icon
                >
              </button>
              <button
                style="border: none; background-color: black"
                mat-icon-button
                (click)="onEdit(conn)"
              >
                <mat-icon style="color: white">settings</mat-icon>
              </button>
            </div>
          </div>

          <small style="color: gray">
            Connect to your own OpenAI compatible API endpoints. <br />
            CORS must be properly configured by the provider to allow requests
            from Open WebUI.
          </small>
        </div>
      </ng-container>
    </div>
  </div>
</mat-dialog-content>
