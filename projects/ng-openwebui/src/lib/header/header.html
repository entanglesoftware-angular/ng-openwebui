<mat-toolbar color="primary">
  <div class="icon">
    <mat-icon (click)="onMenuClick()">menu</mat-icon>
    <div class="model-selector" (click)="toggleDropdown()" [class.open]="dropdownOpen">
      <button class="model-button">
        {{ selectedModel || 'Select Model' }}
        <mat-icon style="color: grey">expand_more</mat-icon>
      </button>

      <div *ngIf="dropdownOpen" class="dropdown-card">
        <div class="dropdown-item" *ngFor="let item of modelMap"
          (click)="selectModel(item.model); $event.stopPropagation()">
          {{ item.model }}
          <small style="color: gray">({{ item.domain }})</small>
        </div>
      </div>
    </div>
  </div>
  <div class="header-left-content">
    <div class="setting-item">
      <select id="themeSelector" name="themeSelector" #themeSelector [(ngModel)]="currentTheme" (change)="changeTheme(themeSelector.value)">
        <option value="light-theme">Light Theme</option>
        <option value="dark-theme">Dark Theme</option>
      </select>
    </div>
    <button mat-button [matMenuTriggerFor]="profileMenu" class="profile-button">
      <div class="profile-circle">
        {{ userInitial }}
      </div>
    </button>
  </div>

  <mat-menu #profileMenu="matMenu" [overlapTrigger]="false" class="custom-profile-menu">
    <button class="menu-btn" mat-menu-item (click)="goToSettings()">
      <mat-icon class="menu-icon">settings</mat-icon>
      <span>Settings</span>
    </button>
  </mat-menu>
</mat-toolbar>